{% extends 'quotes/base.html' %}
{% load static %}

{% block main_content %}
    <section>
        <div class="container">
            {#<router-link :to="{ name: 'survey-member'}" class="btn btn-danger">survey-member</router-link>#}
            <div class="row swap-div-mobile">
                <div class="col-lg-8">
                    <router-view></router-view>
                </div>

                <div class="col-lg-4 text-center">
                    <div class="position-absolute d-none d-lg-block rounded" id="separator"></div>
                    <div class="h-100 d-flex align-items-center justify-content-center">
                        <div class="">
                            <a href="#" class="btn btn-primary font-md font-wight-600 btn-lg">Assisted by Agent?</a>
                            <p class="small text-secondary pt-2">If you're being assisted by an Agent, click here</p>
                        </div>
                    </div>
                    <hr class="mb-5 d-block d-lg-none">
                </div>
            </div>
        </div>
    </section>
    <div class="container mb-3">
        <h5 style="color: #9b9b9b">We help you compare quotes from health insurance companies listed on
            <a href="#" style="color: #9b9b9b" class="">
                <u> HealthCare.gov</u>
            </a>
            , plus many more.
        </h5>
    </div>
    <section id="product_logo" class="">
        <div class="container">
            <div class="row">
                <div class=" col-sm-6 col-md-4 col-lg-2 ">
                    <div class="text-center py-5">
                        <a href="#" class="product_item">

                            <svg class="mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583
                                                    298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
                            </svg>

                            <h6>Medicare Plans</h6>

                        </a>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4 col-lg-2 ">
                    <div class="text-center py-5">
                        <a href="#" class="product_item">

                            <svg class="mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583
                                                    298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
                            </svg>

                            <h5>Obama Care</h5>

                        </a>
                    </div>
                </div>
                <div class=" col-sm-6 col-md-4 col-lg-2 ">
                    <div class="text-center py-5">
                        <a href="#" class="product_item">

                            <svg class="mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583
                                                    298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
                            </svg>

                            <h5>Small Business Insurance</h5>

                        </a>
                    </div>
                </div>
                <div class=" col-sm-6 col-md-4 col-lg-2 ">
                    <div class="text-center py-5">
                        <a href="#" class="product_item">

                            <svg class="mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583
                                                    298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
                            </svg>

                            <h5>Short Term Insurance</h5>

                        </a>
                    </div>
                </div>
                <div class=" col-sm-6 col-md-4 col-lg-2 ">
                    <div class="text-center py-5">
                        <a href="#" class="product_item">

                            <svg class="mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583
                                                    298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
                            </svg>

                            <h5>Health Insurance</h5>

                        </a>
                    </div>
                </div>
                <div class=" col-sm-6 col-md-4 col-lg-2 ">
                    <div class="text-center py-5">
                        <a href="#" class="product_item">

                            <svg class="mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583
                                                    298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
                            </svg>

                            <h5>Medical Supplement</h5>

                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="about-hi" class="container py-5">
        <div>
            <h2 class=" text-center font-weight-bold"> Itâ€™s everything about health insurance in one place </h2>
            <h4 class="hi-subtitle text-center">Think of
                <span class="font-weight-bold"> HealthCare.com </span>
                like the Kayak.com of healthcare.
            </h4>
        </div>
        <div class="row mt-5">
            <div class="col-md-5">
                <div class="hi-feature">
                    <img src="{% static 'quotes/img/heart.png' %}" alt="" class="mr-2">
                    <div class="float-right">
                        <h3 class="hi-title"> Guided Online Experience</h3>
                        <p>We know not many people are healthcare experts, so we provide explanations, product guides,
                            and advice along the way.</p>
                    </div>
                </div>
                <div class="hi-feature pt-3">
                    <img src="{% static 'quotes/img/heart.png' %}" alt="" class="mr-2">
                    <div class="float-right">
                        <h3 class="hi-title">Compare 13,000+ Insurance Plans and Save</h3>
                        <p>We know not many people are healthcare experts, so we provide explanations, product guides,
                            and advice along the way.</p>
                    </div>
                </div>
                <div class="hi-feature pt-3">
                    <img src="{% static 'quotes/img/heart.png' %}" alt="" class="mr-2">
                    <div class="float-right">
                        <h3 class="hi-title">Personalized Recommendations</h3>
                        <p>We know not many people are healthcare experts, so we provide explanations, product guides,
                            and advice along the way.</p>
                    </div>
                </div>
            </div>

            <div class="col-md-7">
                <img src="{% static 'quotes/img/b1.png' %}" alt="" class="rounded">
            </div>

        </div>
    </section>
{% endblock %}


{% block vue_templates %}
    {# REMEMBER:: no multiple tags for vue component!! #}
    <script type="text/x-template" id="root-template">
        <div>
            <h1 class="font-wight-600 mb-3 font-xl responsive-font-xl heading-slogan">Find Affordable Health quotes&nbsp;<br>
                Thatâ€™s Right for You
            </h1>
            <h2 class="font-wight-600 mb-4 font-md heading-mini-slogan">Instantly Compare Over 4,000
                <br>
                Insurance Plans
            </h2>
            <div id="find-plans" class="mb-5">
                <form novalidate class="border-md border-0 border-tertiary rounded" @submit.prevent="check_zipcode"
                      style="border-right-color: transparent !important;"> {# hack for bootstrap 1px error #}
                    <div class="row">
                        <div class="col-md-4 border-md-right border-0 border-tertiary">
                            <div class="py-1 pr-md-0 pl-md-3 px-3 mb-md-0 mb-3 border-md-0 border border-tertiary rounded">
                                <div class="text-capitalize text-secondary font-wight-600 quote-info-label">I'm looking
                                    For:
                                </div>
                                <div class="text-capitalize font-md text-black quote-name">Health Insurance</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="py-1 px-md-0 px-3 mb-md-0 mb-3 border-md-0 border border-tertiary rounded">
                                <label for="home-zip-code"
                                       class="text-capitalize text-secondary font-wight-600 mb-0 quote-info-label">Zip
                                    Code
                                </label>
                                <div class="position-relative">
                                    <input type="text" id="home-zip-code"
                                           class="font-md border-0 outline-0 w-100"
                                           :placeholder="zip_placeholder" v-model="zip_code" maxlength="5"
                                           v-on:keypress="validate_zip($event)">
                                    <div class="position-absolute vertical-center" style="left:99%"
                                         v-html="current_marker"></div>
                                </div>
                                <div class="home-zc-err"></div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="h-100 rounded" style="min-height: 50px;">
                                <button type="submit"
                                        class="text-capitalize rounded-0 btn btn-tertiary w-100 h-100 font-weight-bold font-md">
                                    Find plans
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </script>

    <script type="text/x-template" id="survey-card-template">
        <div class="card py-3 my-3 px-4 qt-survey">
            <div class="d-flex align-items-center qt-survey-who">
                <svg xmlns="http://www.w3.org/2000/svg" class="primary" width="15" height="15" viewBox="0 0 24 24">
                    <path d="M19 7.001c0 3.865-3.134 7-7 7s-7-3.135-7-7c0-3.867 3.134-7.001 7-7.001s7 3.134 7 7.001zm-1.598 7.18c-1.506 1.137-3.374 1.82-5.402 1.82-2.03 0-3.899-.685-5.407-1.822-4.072 1.793-6.593 7.376-6.593 9.821h24c0-2.423-2.6-8.006-6.598-9.819z"></path>
                </svg>
                <span class="font-md pl-2 font-md font-wight-600 text-capitalize">[[ survey_type ]]</span>
            </div>
            <p>Whatâ€™s [[ txt_whos() ]] date of birth?
                <span class="border border-secondary rounded-circle cur-p qt-tooltip"
                      v-if="survey_type == 'me'">?</span>
            </p>
            <input type="text" placeholder="mm/dd/yyyy" v-model="dob" :name="'dob-'+survey_type+index"
                   @keypress="prevent_NaN_input($event)" @keyup="auto_slash_insert"
                   class="font-mm border border-secondary mb-3 rounded qt-survey-input">

            <div class="qt-survey-gender my-3" v-if="['gender', 'tobacco'].indexOf(current_stage) > -1">
                <!--show only if current stage is gender or tobacco-->
                <p>Whatâ€™s [[ txt_whos() ]] gender?
                    <span class="border border-secondary rounded-circle cur-p qt-tooltip"
                          v-if="survey_type == 'me'">?</span>
                </p>
                <div class="btn-group w-100" role="group">
                    <input class="d-none controlled-by-label" type="radio" :name="'gender-'+survey_type+index" value="m"
                           :id="'gender_m-'+survey_type+index" v-model="gender">
                    <label class="btn btn-outline-primary btn-lg col" :for="'gender_m-'+survey_type+index">Male</label>

                    <input class="d-none controlled-by-label" type="radio" :name="'gender-'+survey_type+index" value="f"
                           :id="'gender_f-'+survey_type+index" v-model="gender">
                    <label class="btn btn-outline-primary btn-lg col" :for="'gender_f-'+survey_type+index">Female
                    </label>
                </div>
            </div>

            <div class="qt-survey-tobacco my-3" v-if="current_stage === 'tobacco'">
                <p>
                    <span v-if="survey_type == 'me'">Do you</span>
                    <span v-else>Does your [[ survey_type ]]</span>
                    use tobacco products?
                    <span class="border border-secondary rounded-circle cur-p qt-tooltip"
                          v-if="survey_type == 'me'">?</span>
                </p>
                <div class="btn-group w-100" role="group">
                    <input class="d-none controlled-by-label" type="radio" :name="'tobacco-'+survey_type+index"
                           value="true" :id="'tobacco_y-'+survey_type+index" v-model="tobacco">
                    <label class="btn btn-outline-primary btn-lg col" :for="'tobacco_y-'+survey_type+index">Yes</label>

                    <input class="d-none controlled-by-label" type="radio" :name="'tobacco-'+survey_type+index"
                           value="false" :id="'tobacco_n-'+survey_type+index" v-model="tobacco">
                    <label class="btn btn-outline-primary btn-lg col" :for="'tobacco_n-'+survey_type+index">No</label>
                </div>
            </div>
            <div v-if="survey_type !== 'me'"
                 class="position-absolute cur-p font-md font-wight-600 remove-card-X" {% comment %}@click="remove_survey_card(holder_types_enum.child, index)"{% endcomment %}>
                X
            </div>
        </div>
    </script>

    <script type="text/x-template" id="survey-template">
        <div>
            <router-link :to="{ name: 'root'}">
                <svg xmlns="http://www.w3.org/2000/svg" class="primary" width="16" height="16" viewBox="0 0 24 24">
                    <path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"></path>
                </svg>
                Back
            </router-link>
            <div class="card text-center mt-2">
                <h5 class="card-header text-black font-wight-600">Tell us about you</h5>
                <div class="card-body">
                    <h5 class="card-title font-md font-wight-700">Who are you looking to insure?</h5>
                    <p class="card-text text-secondary font-sm mb-0">Include yourself plus any household members for
                        this new coverage.</p>
                    <a href="#" class="card-link text-capitalize font-wight-600 font-md">learn more
                        <svg xmlns="http://www.w3.org/2000/svg" class="primary" width="24" height="24"
                             viewBox="0 0 24 24">
                            <path d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"></path>
                        </svg>
                    </a>
                    <br>
                    <div class="row text-left">
                        <div class="col-6 offset-3">
                            <survey-card :survey_type="holder_types_enum.own" :prop_max_age="99"
                                         :prop_min_age="21"></survey-card>

                            <template>
                                <survey-card v-if="spouse" :survey_type="holder_types_enum.spouse" :prop_max_age="99"
                                             :prop_min_age="21"></survey-card>
                                <div class="card py-3 my-3 px-4 cur-p qt-survey border-primary" @click="add_spouse"
                                     v-else>
                                    <div class="d-flex align-items-center qt-survey-who">
                                        <div class="font-md pl-2 font-sm font-wight-600 text-primary">
                                            <div class="bg-primary text-white d-inline-flex align-items-center justify-content-center font-wight-700 qt-single-icon">
                                                +
                                            </div>
                                            <span class="pl-2">Add a Spouse</span>
                                        </div>
                                    </div>
                                </div>
                            </template>

                            <template>
                                <survey-card v-if="dependents.length !== 0" v-for="(child, index) in dependents"
                                             :key="index" :index="index" :survey_type="holder_types_enum.child"
                                             :prop_max_age="99" :prop_min_age="21"></survey-card>
                                <div class="card py-3 my-3 px-4 cur-p qt-survey border-primary" @click="add_dependent"
                                     v-if="dependents.length <= max_dependents">
                                    <div class="d-flex align-items-center qt-survey-who">
                                        <div class="font-md pl-2 font-sm font-wight-600 text-primary">
                                            <div class="bg-primary text-white d-inline-flex align-items-center justify-content-center font-wight-700 qt-single-icon">
                                                +
                                            </div>
                                            <span class="pl-2">Add a Dependent</span>
                                        </div>
                                    </div>
                                </div>
                            </template>
                            <button id="submit_quote_request"
                                    class="btn btn-tertiary btn-block btn-lg text-capitalize font-wight-600"
                                    v-on:click='redirect_to_plans("{% url 'quotes:plan_quote' 'stm' %}", "{{ csrf_token }}")'>
                                Check Quote
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>
{% endblock %}

{% block bottom_js %}
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="{% static 'quotes/js/landing_page.js' %}"></script>
{% endblock %}
